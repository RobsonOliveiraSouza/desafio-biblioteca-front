<div class="navbar">
  <h1>Biblioteca API</h1>
  <nav>
    <a href="./../usuario/usuario.component.html">Usuário</a>
    <a href="./../livro/livro.component.html">Livro</a>
    <a href="./../emprestimo/emprestimo.component.html">Usuário</a>
</nav>
</div>

<div class="container">
  <h2>Cadastro de Usuários</h2>
  
  <form (ngSubmit)="cadastrarUsuario()" [formGroup]="usuarioForm" class="form">
    <div class="form-group">
      <label for="nome">Nome</label>
      <input id="nome" formControlName="nome" type="text" placeholder="Digite o nome" />
      <div *ngIf="usuarioForm.controls['nome'].invalid && usuarioForm.controls['nome'].touched">
        <small class="error-text">O nome é obrigatório.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input id="email" formControlName="email" type="email" placeholder="Digite o email" />
      <div *ngIf="usuarioForm.controls['email'].invalid && usuarioForm.controls['email'].touched">
        <small class="error-text">O email é obrigatório e deve ser válido.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="telefone">Telefone</label>
      <input id="telefone" formControlName="telefone" type="text" placeholder="Digite o telefone (DDD + 9 dígitos)" />
      <div *ngIf="usuarioForm.controls['telefone'].invalid && usuarioForm.controls['telefone'].touched">
        <small class="error-text">O telefone deve estar no formato correto.</small>
      </div>
    </div>

    <button type="submit" class="btn-submit" [disabled]="usuarioForm.invalid">Cadastrar Usuário</button>
  </form>

  <h2>Lista de Usuários</h2>
  <table class="user-table">
    <thead>
      <tr>
        <th>Nome</th>
        <th>Email</th>
        <th>Telefone</th>
        <th>Status</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let usuario of usuario">
        <td>{{ usuario.nome }}</td>
        <td>{{ usuario.email }}</td>
        <td>{{ usuario.telefone }}</td>
        <td>{{ usuario.ativo ? 'Ativo' : 'Inativo' }}</td>
        <td>
          <button (click)="deletarUsuario(usuario.id)" class="btn-delete" [disabled]="!usuario.ativo">Excluir</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
